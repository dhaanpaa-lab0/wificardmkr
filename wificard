#!/usr/bin/env bash

# WiFi Card Maker - Shell Wrapper
# Convenient wrapper to run the WiFi card generator

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Change to the script directory to ensure relative paths work
cd "$SCRIPT_DIR" || exit 1

# Set library path for Cairo on macOS (Homebrew)
# This helps cairosvg find the Cairo graphics library
if [ -d "/opt/homebrew/lib" ]; then
    export DYLD_FALLBACK_LIBRARY_PATH="/opt/homebrew/lib:${DYLD_FALLBACK_LIBRARY_PATH}"
elif [ -d "/usr/local/lib" ]; then
    export DYLD_FALLBACK_LIBRARY_PATH="/usr/local/lib:${DYLD_FALLBACK_LIBRARY_PATH}"
fi

# Run the Python script using uv
exec uv run python generate_card.py "$@"
